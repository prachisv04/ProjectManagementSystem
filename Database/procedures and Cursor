-------------------------------------------------------------------------------------------------------------------------------------------
Procedures:
--------------------------------------------------------------------------------------------------------------------------------------------

mysql> show create procedure setguide;
+-----------+-------------------------------------------------------------------------------------------------------------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+----------------------+----------------------+--------------------+
| Procedure | sql_mode                                                                                                                                  | Create Procedure                                                                                                                                                                                                                                                                                                                                                                                                                                                                            | character_set_client | collation_connection | Database Collation |
+-----------+-------------------------------------------------------------------------------------------------------------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+----------------------+----------------------+--------------------+
| setguide  | ONLY_FULL_GROUP_BY,STRICT_TRANS_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION | CREATE DEFINER=`sanket`@`localhost` PROCEDURE `setguide`(IN gbatch varchar(6),IN groupid int)
begin declare is_done INTEGER default 0; declare gid varchar(15) default "123456"; declare assignGuide cursor  for select lab_teacher from Staff  where batch=@gbatch; declare continue handler for not found set is_done =1; open assignGuide; select lab_teacher into gid from Staff where batch=gbatch ;update association set Guide_id=gid where group_id=groupid; close assignGuide; end | utf8                 | utf8_general_ci      | latin1_swedish_ci  |
+-----------+-------------------------------------------------------------------------------------------------------------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+----------------------+----------------------+--------------------+
1 row in set (0.17 sec)

_________________________________________________________________________________________________________________________________________________

mysql> show create procedure setgroup;
+-----------+-------------------------------------------------------------------------------------------------------------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+----------------------+----------------------+--------------------+
| Procedure | sql_mode                                                                                                                                  | Create Procedure                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 | character_set_client | collation_connection | Database Collation |
+-----------+-------------------------------------------------------------------------------------------------------------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+----------------------+----------------------+--------------------+
| setgroup  | ONLY_FULL_GROUP_BY,STRICT_TRANS_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION | CREATE DEFINER=`sanket`@`localhost` PROCEDURE `setgroup`(IN gid int)
begin declare is_done INTEGER default 0; declare stud varchar(15) default ""; declare assignGroup cursor  for select MIS_ID from Student where Group_id=gid; declare continue handler for not found set is_done =1; open assignGroup; myloop:LOOP FETCH NEXT FROM assignGroup into stud ; IF is_done =1 THEN LEAVE myloop; end if; insert into association(group_id,Stud_id,Guide_id) values(gid,stud,0) ; end LOOP; close assignGroup; end | utf8                 | utf8_general_ci      | latin1_swedish_ci  |
+-----------+-------------------------------------------------------------------------------------------------------------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+----------------------+----------------------+--------------------+
1 row in set (0.00 sec)

